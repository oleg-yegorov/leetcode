Нужно разбить задачу на подзадачи, которые можно решить до этого. И, конечно, хранить этот результат.
Наверно объекты должны быть упорядоченны.